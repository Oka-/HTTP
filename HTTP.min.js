// Colin 'Oka' Hall-Coates <yo@oka.io> MIT 2015
window.HTTP=function(){function n(n){e[n]=function(t){return e(n,t)}}function t(n,t){clearTimeout(n.t),t&&t.call(),2>n.r.readyState&&(n.t=setTimeout(function(){n.r.send(n.d)},50))}function r(n){return"string"==typeof n?n:Object.keys(n).map(function(t){return t+"="+n[t]}).join("&")}function e(n,e){var u={c:[],r:new XMLHttpRequest},o={cred:function(){return t(u,function(){u.r.withCredentials=!0}),o},do:function(n){return t(u,function(){n.call(u.r,u.r.response,u.r.status,u.r)}),o},data:function(n,e){return t(u,function(){u.d=e?n:r(n)}),o},mime:function(n){return t(u,function(){u.r.overrideMimeType(n)}),o},set:function(n,r){return t(u,function(){u.r.setRequestHeader(n,r)}),o},then:function(n){return t(u,function(){u.c.push(n)}),o}};return e||(e=n,n="GET"),u.r.addEventListener("load",function(){u.c.forEach(function(n){o.do(n)})}),u.r.open(n,e,!0),t(u),o}return["GET","POST","PUT","DELETE","HEAD"].forEach(n),e}();